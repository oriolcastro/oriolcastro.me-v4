---
import TimelineItem from '@/components/timeline/TimelineItem.astro'
import TimelineTOC from '@/components/timeline/TimelineTOC.astro'
import { getAllTimeline, sortTimelineAscByYear } from '@/data/timeline'
import PageLayout from '@/layouts/Base.astro'

const allTimelineItems = await getAllTimeline()
const allTimelineItemsByDate = sortTimelineAscByYear(allTimelineItems)

const meta = {
  title: 'Timeline',
  description: 'Everything I have achieved during my career',
}
---

<PageLayout meta={meta}>
  <div class="flex w-full flex-col gap-x-10 lg:flex-row lg:items-start">
    <div class="order-1 flex-1 space-y-6">
      <h1 class="title">Timeline</h1>
      <!-- <p>Explain a little bit what is this page about</p> -->
      {allTimelineItemsByDate.map(item => <TimelineItem item={item} />)}
    </div>
    <TimelineTOC timelineItems={allTimelineItems} />
  </div>
</PageLayout>
